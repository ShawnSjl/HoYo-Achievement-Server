databaseChangeLog:
  - changeSet:
      id: 1-create_users
      author: ShawnSjl
      context: "dev, prod"
      changes:
        - createTable:
            tableName: users
            remarks: 用户表
            columns:
              - column: { name: id, type: BIGINT UNSIGNED AUTO_INCREMENT, constraints: { primaryKey: true } }
              - column: { name: username, type: VARCHAR(30), constraints: { nullable: false, unique: true } }
              - column: { name: password, type: VARCHAR(256), constraints: { nullable: false } }
              - column: { name: salt, type: VARCHAR(20), constraints: { nullable: false } }
              - column: { name: uuid, type: VARCHAR(256), constraints: { nullable: false, unique: true } }
              - column: { name: role, type: VARCHAR(16), defaultValue: "USER" }
              - column: { name: status, type: VARCHAR(16), defaultValue: "ACTIVE" }
              - column: { name: created_at, type: DATETIME, defaultValueComputed: CURRENT_TIMESTAMP }
              - column: { name: updated_at, type: DATETIME, defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP }
      rollback:
        - dropTable: { tableName: users }
